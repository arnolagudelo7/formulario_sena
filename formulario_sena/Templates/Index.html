{% include 'inc/Header.html' %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario de registro</title>
</head>
<body>
    <form action="" method="post">

        <label for="LugarEvento">Elija el lugar donde se desarrollara el evento:</label>
        <select name="LugarEvento" id="LugarEvento">
            <option value="" selected>Seleccionar</option>
            <option value=""></option>
        </select>

        <label for="NombreCompleto">Escriba sus nombres y apellidos:</label>
        <input type="text" name="NombreCompleto" id="NombreCompleto">

        <label for="NumeroDocumento">Ingrese su numero de documento:</label>
        <input type="text" name="NumeroDocumento" id="NumeroDocumento">

        <div>
            <select name="dependency" id="dependencia">
                <option value="" selected>Seleccionar</option>
                <option value="planta">Planta</option>
                <option value="contratista">Contratista</option>
                <option value="other">Otro</option>
            </select>
        </div>
    </form>

    <script>
        const dependencia = document.querySelector("#dependencia")
        const toggleInput = "other"
        const dependencyName = "dependency"
        const dependencyInput = `<input type='text' placeholder='Â¿Cual?' name='${dependencyName}'/>`
        let isSet = false

        dependencia?.addEventListener("change", event => {
            const {target} = event
            if (target.value === toggleInput && !isSet) {
                target.closest("div").insertAdjacentHTML("beforeend", dependencyInput)
                target.closest("select").name = ""
                isSet = true
            }
            else if (isSet) {
                target?.closest("div").querySelector("input").remove()
                target.closest("select").name = dependencyName
                isSet = false
            }

        })
    </script>
</body>
</html>